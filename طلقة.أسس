
صنف طـلقة
{
  عرف س: صحيح؛
  عرف ص: صحيح؛
  عرف ميت: ثنائي؛
}؛

 
دالة حدث_الطلقة (نقش: مؤشر[طـوب.نـقش]، ط: سند[طـلقة]، ل: سند[لـاعب]، عصا:مؤشر[طـوب.عـصا_التحكم])
{
  إذا ط.ميت == 0{
    // تحريك الإطلاقة
    إذا ط.س < 1380 {
      ط.س += 10؛
    }؛

    // رسم الإطلاقة
    إذا ط.س < 1280 {
      اطمغ (نقش_اطلاقة، ط.س، ط.ص)؛
    }؛
  }؛
  
  // إعادة الإطلاق
  إذا ل.ميت == 0 {
    إذا طـوب.عـصا_التحكم.هات_زر(عصا، 0) == 1 و ل.عداد_الإطلاق >=10{
      إذا ط.س >= 1280 أو ط.ميت==1 {
        ط.ميت=0؛
        ط.س = ل.س؛
        ط.ص = ل.ص؛
        ل.عداد_الإطلاق=0؛
        طـوب.سـمعي.شغل(-1، صوت، 0، -1)؛      
      }؛
    }؛  
  }؛
}؛
